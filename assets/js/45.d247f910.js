(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{377:function(_,v,e){"use strict";e.r(v);var t=e(43),o=Object(t.a)({},(function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("h3",{attrs:{id:"dns-域名的解析过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dns-域名的解析过程"}},[_._v("#")]),_._v(" DNS 域名的解析过程")]),_._v(" "),e("p",[_._v("以 "),e("code",[_._v("http://www.cool.sky.com")]),_._v(" 为栗子，当用户输入这个 "),e("code",[_._v("url")]),_._v(" 时，会进行以下步骤：")]),_._v(" "),e("h4",{attrs:{id:"_1-查找浏览器缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-查找浏览器缓存"}},[_._v("#")]),_._v(" 1. 查找浏览器缓存")]),_._v(" "),e("p",[_._v("浏览器会检查缓存中是否有与这个 "),e("code",[_._v("域名")]),_._v(" 对应的 "),e("code",[_._v("已解析过的IP地址")]),_._v("，如果命中缓存，则解析结束；")]),_._v(" "),e("h4",{attrs:{id:"_2-查找操作系统缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-查找操作系统缓存"}},[_._v("#")]),_._v(" 2. 查找操作系统缓存")]),_._v(" "),e("p",[_._v("若浏览器的缓存没命中，则会查找操作系统的缓存；因为操作系统也会有一个域名解析的过程，一般可以通过系统文件的 "),e("code",[_._v("hosts")]),_._v(" 文件来设置 "),e("code",[_._v("域名")]),_._v(" 和 "),e("code",[_._v("IP")]),_._v(" 的映射关系，这样就设置了操作系统的域名缓存；")]),_._v(" "),e("h4",{attrs:{id:"_3-查找路由缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-查找路由缓存"}},[_._v("#")]),_._v(" 3. 查找路由缓存")]),_._v(" "),e("p",[_._v("如果系统缓存也没命中，那么查询请求就会发向路由器，它一般会有自己的 "),e("code",[_._v("DNS")]),_._v(" 缓存；")]),_._v(" "),e("h4",{attrs:{id:"_4-查找-isp-dns-缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-查找-isp-dns-缓存"}},[_._v("#")]),_._v(" 4. 查找 ISP DNS 缓存")]),_._v(" "),e("p",[_._v("如果上述几个步骤，都没有相应的缓存命中，就只能查询 "),e("code",[_._v("ISP DNS 缓存服务器")]),_._v("("),e("code",[_._v("ISP")]),_._v(" 即 "),e("code",[_._v("因特网服务提供商")]),_._v(") 了，也就是 "),e("code",[_._v("本地区域名服务器")]),_._v("，它一般会缓存域名的解析结果，缓存的时间受到域名失效时间的影响，大约 "),e("code",[_._v("80%")]),_._v(" 的域名解析到这里就完成了；")]),_._v(" "),e("h4",{attrs:{id:"_5-递归搜索"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-递归搜索"}},[_._v("#")]),_._v(" 5. 递归搜索")]),_._v(" "),e("p",[_._v("最坏的情况出现了，以上缓存都没有命中，那么将进入递归查询阶段，具体步骤如下：")]),_._v(" "),e("ol",[e("li",[e("code",[_._v("本地 DNS 域名服务器")]),_._v(" 将该请求转发到互联网的根域；")]),_._v(" "),e("li",[e("code",[_._v("根域")]),_._v(" 将所要查询域名的 "),e("code",[_._v("顶级域")]),_._v("（假设查询的是 "),e("code",[_._v("cool.sky.com")]),_._v("，这里的顶级域就是 "),e("code",[_._v("com")]),_._v("）的服务器 "),e("code",[_._v("IP地址")]),_._v(" 返回给本地 DNS；")]),_._v(" "),e("li",[_._v("本地 "),e("code",[_._v("DNS")]),_._v(" 接收到 "),e("code",[_._v("IP")]),_._v(" 地址后，再向 "),e("code",[_._v("顶级域")]),_._v(" 发起请求；")]),_._v(" "),e("li",[e("code",[_._v("com")]),_._v(" 顶级域再将域名中的二级域的 "),e("code",[_._v("IP")]),_._v(" 地址返回给 本地 DNS；")]),_._v(" "),e("li",[_._v("如此递归查询，最终本地 "),e("code",[_._v("DNS")]),_._v(" 将查询结果返回给主机，这个时候就完成了 "),e("code",[_._v("DNS")]),_._v(" 的解析；")])])])}),[],!1,null,null,null);v.default=o.exports}}]);